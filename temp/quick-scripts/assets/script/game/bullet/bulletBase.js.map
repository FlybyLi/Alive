{"version":3,"sources":["bulletBase.ts"],"names":[],"mappings":";;;;;AAEM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAA;AAGzC;IAAgC,8BAAY;IAD5C;QAAA,qEAwDC;QArDG,WAAW;QACX,aAAO,GAAwB,SAAS,CAAA;QACxC,WAAW;QACX,eAAS,GAAuB,SAAS,CAAA;QACzC,SAAS;QACT,SAAG,GAA2B,SAAS,CAAA;QACvC,WAAW;QACX,mBAAa,GAA8B,SAAS,CAAA;;IA8CxD,CAAC;IA5CG,2BAAM,GAAN;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAChC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAA;IACtB,CAAC;IAED,0BAAK,GAAL,UAAO,aAA4B;QAC/B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAA;IACtC,CAAC;IAED,0BAAK,GAAL;IACA,CAAC;IAED,cAAc;IACd,qCAAgB,GAAhB,UAAkB,KAAkB,EAAE,IAAiB;QACnD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IAChE,CAAC;IAED,6BAAQ,GAAR,UAAU,KAAa;QACnB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAA;IAC1B,CAAC;IAED,2BAAM,GAAN,UAAQ,IAAY,EAAE,IAAY;QAC9B,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAA;QACrB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAA;IACzB,CAAC;IAED,2BAAM,GAAN,UAAQ,GAAe;QACnB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;IAClB,CAAC;IAED,2BAAM,GAAN;QACI,OAAO,IAAI,CAAC,GAAG,CAAA;IACnB,CAAC;IAED,2BAAM,GAAN,UAAQ,EAAU;QACd,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC;YAAE,OAAM;QAChC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,EAAE;YACtB,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAA;SACjD;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,EAAE;YACtB,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAA;SACjD;IACL,CAAC;IArDQ,UAAU;QADtB,OAAO;OACK,UAAU,CAuDtB;IAAD,iBAAC;CAvDD,AAuDC,CAvD+B,EAAE,CAAC,SAAS,GAuD3C;AAvDY,gCAAU","file":"","sourceRoot":"../../../../../assets/script/bullet","sourcesContent":["import BulletFactory, { BulletType } from \"../bullet/bulletFactory\"\n\nconst {ccclass, property} = cc._decorator\n\n@ccclass\nexport class BulletBase extends cc.Component {\n\n    /** 移动方向 */\n    moveDir: cc.Vec2 | undefined = undefined\n    /** 移动速度 */\n    moveSpeed: number | undefined = undefined\n    /** 标签 */\n    tag: BulletType | undefined = undefined\n    /** 子弹工厂 */\n    bulletFactory: BulletFactory | undefined = undefined\n\n    onLoad (): void {\n        this.moveDir = new cc.Vec2(0, 0)\n        this.moveSpeed = 0\n    }\n\n    reuse (bulletFactory: BulletFactory): void {\n        this.bulletFactory = bulletFactory\n    }\n\n    unuse (): void {\n    }\n\n    /** 碰撞后回收子弹 */\n    onCollisionEnter (other: cc.Collider, self: cc.Collider): void {\n        this.bulletFactory.bulletPools[this.getTag()].put(this.node)\n    }\n\n    setSpeed (speed: number): void {\n        this.moveSpeed = speed\n    }\n\n    setDir (dirX: number, dirY: number): void {\n        this.moveDir.x = dirX\n        this.moveDir.y = dirY\n    }\n\n    setTag (tag: BulletType): void {\n        this.tag = tag\n    }\n\n    getTag (): BulletType {\n        return this.tag\n    }\n\n    update (dt: number): void {\n        if (this.moveSpeed === 0) return\n        if (this.moveDir.x !== 0) {\n            this.node.x += this.moveDir.x * this.moveSpeed\n        }\n        if (this.moveDir.y !== 0) {\n            this.node.y += this.moveDir.y * this.moveSpeed\n        }\n    }\n\n}\n"]}