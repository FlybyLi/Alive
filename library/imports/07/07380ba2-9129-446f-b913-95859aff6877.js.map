{"version":3,"sources":["../../../../../assets/script/boss/assets/script/boss/bulletFactory.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAA;AAEzC,IAAY,UASX;AATD,WAAY,UAAU;IAClB,eAAe;IACf,qCAAK,CAAA;IACL,eAAe;IACf,qCAAK,CAAA;IACL,eAAe;IACf,qCAAK,CAAA;IACL,eAAe;IACf,qCAAK,CAAA;AACT,CAAC,EATW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QASrB;AAGD;IAA2C,iCAAY;IADvD;QAAA,qEAqCC;QA9BG,kBAAY,GAAgB,EAAE,CAAA;QAE9B,YAAY;QACZ,iBAAW,GAAkB,EAAE,CAAA;;IA2BnC,CAAC;IAzBG,8BAAM,GAAN;QACI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAA;QAClD,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAA;QAClD,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAA;QAClD,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAA;QAClD,OAAO;QACP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YACnF,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YACnF,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YACnF,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;SACtF;IACL,CAAC;IAED,oCAAY,GAAZ,UAAc,IAAgB;QAC1B,IAAI,MAAM,GAAG,SAAS,CAAA;QACtB,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;YACnC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAA;SACxC;aAAM;YACH,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAA;SACnD;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;QAC1B,OAAO,MAAM,CAAA;IACjB,CAAC;IA5BD;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC;YACjB,OAAO,EAAE,OAAO;SACnB,CAAC;uDAC4B;IANb,aAAa;QADjC,OAAO;OACa,aAAa,CAoCjC;IAAD,oBAAC;CApCD,AAoCC,CApC0C,EAAE,CAAC,SAAS,GAoCtD;kBApCoB,aAAa","file":"","sourceRoot":"../../../../../assets/script/boss","sourcesContent":["const {ccclass, property} = cc._decorator\n\nexport enum BulletType {\n    /** R 型子弹，圆的 */\n    R = 0,\n    /** M 型子弹，月牙 */\n    M = 1,\n    /** F 型子弹，花型 */\n    F = 2,\n    /** B 型子弹，爆破 */\n    B = 3\n}\n\n@ccclass\nexport default class BulletFactory extends cc.Component {\n\n    @property({\n        type: [cc.Prefab],\n        tooltip: '子弹预制体'\n    })\n    bulletPrefab: cc.Prefab[] = []\n\n    /** 子弹节点池 */\n    bulletPools: cc.NodePool[] = []\n\n    onLoad (): void {\n        this.bulletPools[BulletType.R] = new cc.NodePool()\n        this.bulletPools[BulletType.M] = new cc.NodePool()\n        this.bulletPools[BulletType.F] = new cc.NodePool()\n        this.bulletPools[BulletType.B] = new cc.NodePool()\n        // 存入子弹\n        for (let i = 0; i < 200; i++) {\n            this.bulletPools[BulletType.R].put(cc.instantiate(this.bulletPrefab[BulletType.R]))\n            this.bulletPools[BulletType.M].put(cc.instantiate(this.bulletPrefab[BulletType.M]))\n            this.bulletPools[BulletType.F].put(cc.instantiate(this.bulletPrefab[BulletType.F]))\n            this.bulletPools[BulletType.B].put(cc.instantiate(this.bulletPrefab[BulletType.B]))\n        }\n    }\n\n    createBullet (type: BulletType): cc.Node {\n        let bullet = undefined\n        if (this.bulletPools[type].size() > 0) {\n            bullet = this.bulletPools[type].get()\n        } else {\n            bullet = cc.instantiate(this.bulletPrefab[type])\n        }\n        this.node.addChild(bullet)\n        return bullet\n    }\n\n}\n"]}